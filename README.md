# Sched1StuckCleanersFixMod

Fixes several bugs in Cleaner behaviours that results in them standing around doing nothing.

Compatible with IL2CPP and Mono versions (main and alternate branches) of Schedule I.

[Nexus Mods Page](https://www.nexusmods.com/schedule1/mods/????)

[Thunderstore Page (Mono)](https://thunderstore.io/c/schedule-i/p/lasersquid/StuckCleanersFixMono/)

[Thunderstore Page (IL2CPP)](https://thunderstore.io/c/schedule-i/p/lasersquid/StuckCleanersFixIL2CPP/)


## Build Prerequisites:
* For IL2CPP (main) version: Check out main branch of Schedule I. Install MelonLoader for Schedule I and run the game at least once to generate assemblies in the game's "MelonLoader" directory.
* For Mono (alternate) version: Check out alternate branch of Schedule I. Assemblies will populate automatically in "Schedule I_data/Managed" directory.


## Build instructions:
1. Clone repo. Create directories "il2cpp_libs" and "mono_libs" inside StuckCleanersMod directory.
2. Open solution in Visual Studio (I used v2022).
3. Install recommended NuGet packages (Project>Manage NuGet Packages).
4. For each missing dependency, copy required libraries to the respective *_libs directories.
	* For the IL2CPP libraries, copy DLLs from Schedule I's "MelonLoader/Il2CppAssemblies" and "MelonLoader/net6" directories to the il2cpp_libs directory.
	* For the Mono libraries, copy DLLs from Schedule I's "Schedule I_data/Managed" directory to the mono_libs directory.
	* Note: You must switch to the main branch for IL2CPP libraries to be generated by MelonLoader, and you must switch to the alternate branch for Mono libraries to be populated.
5. Build desired configuration. Project output will be in bin directory. Vortex packages will be in packages directory.


## Install instructions:
* Vortex (from Nexus Mods) (RECOMMENDED): Open Vortex Mod Manager, then, in a browser, navigate to [mod page](https://www.nexusmods.com/schedule1/mods/????) and click "Vortex" download button, then select the appropriate version.
* Vortex (from DLL): Open Vortex Mod Manager, select game as Schedule I and click on "Mods" tab. Click "Install From File" button and navigate to appropriate dll.
* Thunderstore/r2modman: Open Thunderstore/r2modman, select game, open or create a profile, then click "Get Mods", and search for "StuckCleanersFix<IL2CPP/Mono>" by lasersquid. Or, navigate [here (mono)](https://thunderstore.io/c/schedule-i/p/lasersquid/StuckCleanersFixMono/) or [here (il2cpp)](https://thunderstore.io/c/schedule-i/p/lasersquid/StuckCleanersFixIL2CPP/), and click "Install with Mod Manager".
* Manual: Copy net6/StuckCleanersFixIL2CPP.dll or netstandard21/StuckCleanersFixMono.dll from project bin/Debug directory to Schedule I's mods directory.

